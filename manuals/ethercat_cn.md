# EtherCAT 控制协议
**版本：V1.0**
**日期：2024.12**

---

## 目录
1. EtherCAT 系统组成 .............................................................................................. 1
2. 基本配置 .............................................................................................................. 2
2.1. 接口定义 ................................................................................................... 2
2.2. 通信连接 ................................................................................................... 2
2.3. ESI 文件导入 ............................................................................................. 3
3. 伺服状态控制 ...................................................................................................... 3
3.1. 控制字(0x6040)说明 ................................................................................ 3
3.2. 状态字(0x6041)说明 ................................................................................ 4
4. 运行模式控制 ...................................................................................................... 4
4.1. 运行模式设置 ........................................................................................... 4
4.2. 运行模式显示 ........................................................................................... 5
5. 运行模式概述 ...................................................................................................... 5
5.1. 周期同步位置模式 ................................................................................... 5
5.1.1. 控制框图 ........................................................................................ 5
5.1.2. 控制指令 ........................................................................................ 5
5.1.3. 控制步骤 ........................................................................................ 7
5.2. 周期同步速度模式 ................................................................................... 7
5.2.1. 控制框图 ........................................................................................ 7
5.2.2. 控制指令 ........................................................................................ 7
5.2.3. 控制步骤 ........................................................................................ 9
5.3. 周期同步转矩模式 ................................................................................... 9
5.3.1. 控制框图 ........................................................................................ 9
5.3.2. 控制指令 ...................................................................................... 10
5.3.3. 控制步骤 ...................................................................................... 11
6. 对象字典 ............................................................................................................ 11
6.1. 0x6040 控制字 ......................................................................................... 11
6.2. 0x6041 状态字 ......................................................................................... 12
6.3. 0x6060 运行模式设置 ............................................................................. 12
6.4. 0x6061 运行模式显示 ............................................................................. 13
6.5. 0x6064 实际位置 ..................................................................................... 13
6.6. 0x6077 实际转矩 ..................................................................................... 13
6.7. 0x607A 目标位置 ..................................................................................... 14
6.8. 0x60B0 位置偏移量 .................................................................................. 14
6.9. 0x60B1 速度偏移量 .................................................................................. 14
6.10. 0x60B2 转矩偏移量 ................................................................................ 15
6.11. 0x606C 速度实际值 ................................................................................ 15
7. 快速上手指南 .................................................................................................... 15
7.1. 连接 .......................................................................................................... 15
7.2. 位置环运行电机 ...................................................................................... 19
7.3. 速度环运行电机 ...................................................................................... 22
7.4. 电流环运行电机 ...................................................................................... 25
（目录版式见原 PDF 第 3–4 页图示）

---

## 1. EtherCAT 系统组成
EtherCAT 是一种实时以太网通信的现场总线协议，通过数据帧进行数据的实时传输和处理，实现低延迟和高带宽，与此同时，能够保持较低成本和简单的网络结构。
EtherCAT 采用主从式结构，其系统由一个主站设备和多个从站设备组成，主站发送控制指令和数据，从站接收执行这些指令并实时传输输出数据，如传感器数据、执行器状态和控制指令。任何具有网络接口的计算机和具有以太网控制的嵌入式设备都可以作为主站。对于 PC 端计算机而言，主站控制器多采用 Beckhoff 开发的 TwinCAT 软件。伺服驱动器作为从站，配有专门的从站控制器，其与主站之间的通讯网线必须在 5 类线或者以上等级，通讯速率为 100Mbit/s，2 站点之间的通讯最大长度为 100 米。
EtherCAT 系统的运行原理如图 1-1 所示。

**图 1-1 EtherCAT 系统原理图**（见原 PDF 第 5 页图示）

如图 1-1 所示，在一个通讯周期内，主站发送数据帧给各个从站，每个从站根据寻址提取相应的数据，并且将反馈信息写入数据帧。数据帧发送到最后一个从站后会返回，从第一个从站回到主站，从而实现一个周期内的数据通讯。
其中，主站使用从站设备描述文件（ESI，EtherCAT Slave Information）给从站配置功能和相关的对象属性。ESI 是 XML 格式的文件，内容包括制造商信息和从站描述信息，如图 1-2 所示。一个 ESI 可以包含多个从站的数据，将其导入主站的控制器软件，主站控制器可以根据 ESI 文件中的配置信息识别和控制每个从站。

**图 1-2 ESI 内容示意图**（见原 PDF 第 6 页图示）

---

## 2. 基本配置

### 2.1. 接口定义
EtherCAT 接口定义如图 2-1 所示。

**图 2-1 EtherCAT 接口示意图**（见原 PDF 第 6 页图示）
如图 2-1 所示，RX- 为数据接收负端，RX+ 为数据接收正端，TX- 为数据发送负端，TX+ 为数据发送正端。

### 2.2. 通信连接
EtherCAT 通信采用双绞线，单独屏蔽，硬件连接方式如图 2-2 所示。

**图 2-2 EtherCAT 通信连接示意图**（见原 PDF 第 7 页图示）

### 2.3. ESI 文件导入
本司的 ESI 文件已上传至官网 https://www.myactuator.cn，请在使用手册文件目录下请自行下载。

---

## 3. 伺服状态控制
EtherCAT 通讯过程中，主站控制器会根据当前实际状态对伺服驱动器进行控制，状态可以通过控制字 0x6040 变更，通过状态字 0x6041 显示状态，注意在状态的转换过程中，必须通过 0x6041 确认状态已经转换后才能继续发送下一个状态的指令。

### 3.1. 控制字 (0x6040) 说明
控制字为 uint16，通过控制字切换伺服驱动的运行状态，各个位的控制功能表如下：

**表 3-1 控制字 (0x6040) 功能表**

| Bit | 名称             | 说明                              |
|-----|------------------|-----------------------------------|
| 0   | 伺服使能         | 1-有效，0-无效                    |
| 1   | 接通主回路电路   | 1-有效，0-无效                    |
| 2   | 快速停机         | 0-有效，快速停机；1-无效          |
| 3   | 伺服运行         | 1-有效，0-无效                    |
| 4~6 | 特定运行模式     | 与各伺服运行模式相关              |
| 7~8 | 保留             | 未定义                            |
| 9   | 特定运行模式     | 与各伺服运行模式相关              |
| 10~15 | 保留           | 未定义                            |
（见原 PDF 第 7–8 页）

### 3.2. 状态字 (0x6041) 说明
状态字为 uint16，提供了有关运行状态的信息，各个位的功能表如下：

**表 3-2 状态字 (0x6041) 功能表**

| Bit | 名称                   | 说明                                      |
|-----|------------------------|-------------------------------------------|
| 0   | 准备打开伺服使能       | 1-有效，0-无效                            |
| 1   | 伺服使能               | 1-有效，0-无效                            |
| 2   | 伺服运行               | 1-有效，0-无效                            |
| 3   | 故障                   | 1-有效，0-无效                            |
| 4   | 接通主回路电           | 1-有效，0-无效                            |
| 5   | 快速停机               | 1-有效，0-无效                            |
| 6   | 伺服无故障             | 1-有效，0-无效                            |
| 7   | 警告                   | 1-有效，0-无效                            |
| 8   | 厂家自定义             | 未定义                                    |
| 9   | 远程控制               | 1-有效（默认），0-无效                    |
| 10  | 目标到达               | 1-有效，0-无效                            |
| 11  | 软件内部位置超限       | 1-有效，0-无效                            |
| 12~13 | 特定的运行模式       | 与各伺服运行模式相关                      |
| 14~15 | 厂家自定义           | 未定义                                    |
（见原 PDF 第 8 页）

---

## 4. 运行模式控制
当前本司共有周期同步位置模式、周期同步速度模式、周期同步转矩模式三种模式，使用运行模式对象 0x6060 设置所需模式，使用运行模式显示对象 0x6061 读取当前运行模式。

### 4.1. 运行模式设置
运行模式对象 0x6060 用于设置运行模式，如表 4-1 所示，更改设置立即激活。

**表 4-1 设置运行模式（0x6060）**

| 值    | 运行模式           |
|-------|--------------------|
| 0x08  | 周期同步位置模式   |
| 0x09  | 周期同步速度模式   |
| 0x0A  | 周期同步转矩模式   |

### 4.2. 运行模式显示
使用运行模式显示对象 0x6061 读取当前运行模式，如表 4-2 所示。

**表 4-2 运行模式显示（0x6061）**

| 值    | 运行模式显示       |
|-------|--------------------|
| 0x08  | 周期同步位置模式   |
| 0x09  | 周期同步速度模式   |
| 0x0A  | 周期同步转矩模式   |

---

## 5. 运行模式概述

### 5.1. 周期同步位置模式

#### 5.1.1. 控制框图
当状态字 0x6060=8 时，模组工作在周期同步位置模式。主站控制器进行轨迹规划，并在每个通讯周期内将目标位置、速度偏移量、转矩偏移量发送到模组。模组的驱动器控制回路为闭合状态，充当位置命令的跟随器，控制框图如图 5-1 所示。

**图 5-1 周期同步位置模式控制框图**（见原 PDF 第 9 页图示）

#### 5.1.2. 控制指令
针对周期同步位置模式，控制字 0x6040 各个位的定义如表 5-1 所示。

**表 5-1 周期同步位置模式的控制字说明（0x6040）**

| Bit | 名称           | 说明                                   |
|-----|----------------|----------------------------------------|
| 0   | 伺服使能       | 1-有效，0-无效                         |
| 1   | 接通主回路电   | 1-有效，0-无效                         |
| 2   | 快速停机       | 0-有效，快速停机；1-无效               |
| 3   | 伺服运行       | 1-有效，0-无效                         |
| 4~6 | CSP 模式预留   | 暂无                                    |
| 7   | 保留           | 未定义                                  |
| 8   | 保留           | 未定义                                  |
| 9   | CSP 模式预留   | 暂无                                    |
| 10~15 | 保留         | 未定义                                  |

状态字 0x6041 各个位的定义如表 5-2 所示。

**表 5-2 周期同步位置模式的状态字说明（0x6041）**

| Bits | 名称                     | 说明                                                         |
|------|--------------------------|--------------------------------------------------------------|
| 0    | 准备打开伺服使能         | 1-有效，0-无效                                               |
| 1    | 伺服使能                 | 1-有效，0-无效                                               |
| 2    | 伺服运行                 | 1-有效，0-无效                                               |
| 3    | 故障                     | 1-有效，0-无效                                               |
| 4    | 接通主回路电             | 1-有效，0-无效                                               |
| 5    | 快速停机                 | 1-有效，0-无效                                               |
| 6    | 伺服无故障               | 1-有效，0-无效                                               |
| 7    | 警告                     | 1-有效，0-无效                                               |
| 8    | 厂家自定义               | 未定义                                                       |
| 9    | 远程控制                 | 1-有效（默认），0-无效                                       |
| 10   | 目标到达                 | 1-有效，0-无效                                               |
| 11   | 软件内部位置超限         | 1-有效，0-无效                                               |
| 12   | 是否跟随目标位置         | 1-已跟随目标位置，0-未跟随目标位置                           |
| 13   | 跟随位置误差报警         | 1-存在位置偏差报警，0-不存在位置偏差报警                     |
| 14~15 | 厂家自定义             | 未定义                                                       |

#### 5.1.3. 控制步骤
具体操作步骤如下：
1）设置 0x6060=8，使得模组工作在周期同步位置模式；
2）读取实际位置 0x6064，将目标位置 0x607A 设置成当前实际位置值；
3）设置控制字 0x6040，将模组设置为使能状态，具体方法为：
　3-1：设置控制字 0x6040=6，保持模组为失能状态；
　3-2：设置控制字 0x6040=7，模组准备使能；
　3-3：设置控制字 0x6040=15，模组使能。
4）控制字 0x607A 将主站控制器规划的目标位置周期性地发送给模组。

---

### 5.2. 周期同步速度模式

#### 5.2.1. 控制框图
当状态字 0x6060=9 时，模组工作在周期同步速度模式。主站控制器进行轨迹规划，并在每个通讯周期内将目标转速、速度偏移量、转矩偏移量发送到模组。模组执行转速控制和转矩控制，控制框图如图 5-2 所示。

**图 5-2 周期同步速度模式控制框图**（见原 PDF 第 11 页图示）

#### 5.2.2. 控制指令
针对周期同步速度模式，控制字 0x6040 各个位的定义如表 5-3 所示。

**表 5-3 周期同步速度模式的控制字说明（0x6040）**

| Bit | 名称           | 说明                                   |
|-----|----------------|----------------------------------------|
| 0   | 伺服使能       | 1-有效，0-无效                         |
| 1   | 接通主回路电   | 1-有效，0-无效                         |
| 2   | 快速停机       | 0-有效，快速停机；1-无效               |
| 3   | 伺服运行       | 1-有效，0-无效                         |
| 4~6 | CSV 模式预留   | 暂无                                    |
| 7   | 保留           | 未定义                                  |
| 8   | 保留           | 未定义                                  |
| 9   | CSV 模式预留   | 暂无                                    |
| 10~15 | 保留         | 未定义                                  |

控制字 0x6041 各个位的定义如表 5-4 所示。

**表 5-4 周期同步速度模式的状态字说明（0x6041）**

| Bits | 名称                     | 说明                                                     |
|------|--------------------------|----------------------------------------------------------|
| 0    | 准备打开伺服使能         | 1-有效，0-无效                                           |
| 1    | 伺服使能                 | 1-有效，0-无效                                           |
| 2    | 伺服运行                 | 1-有效，0-无效                                           |
| 3    | 故障                     | 1-有效，0-无效                                           |
| 4    | 接通主回路电             | 1-有效，0-无效                                           |
| 5    | 快速停机                 | 1-有效，0-无效                                           |
| 6    | 伺服无故障               | 1-有效，0-无效                                           |
| 7    | 警告                     | 1-有效，0-无效                                           |
| 8    | 厂家自定义               | 未定义                                                   |
| 9    | 远程控制                 | 1-有效（默认），0-无效                                   |
| 10   | CSV 模式预留             | 暂无                                                      |
| 11   | 软件内部位置超限         | 1-有效，0-无效                                           |
| 12   | 是否跟随目标转速         | 1-已跟随目标转速，0-未跟随目标转速                       |
| 13   | CSV 模式预留             | 暂无                                                      |
| 14~15 | 厂家自定义             | 未定义                                                   |

#### 5.2.3. 控制步骤
具体操作步骤如下：
1）设置 0x6060=9，使得模组工作在周期同步速度模式；
2）设置目标速度 0x60FF=0plus/s，因为模组切换使能状态后会立刻以目标速度运行，先设置为 0 以确保安全；
3）设置控制字 0x6040，将模组设置为使能状态，具体方法为：
　3-1：设置控制字 0x6040=6，保持模组为失能状态；
　3-2：设置控制字 0x6040=7，模组准备使能；
　3-3：设置控制字 0x6040=15，模组使能。
4）设置目标速度 0x60FF。

---

### 5.3. 周期同步转矩模式

#### 5.3.1. 控制框图
当状态字 0x6060=10 时，模组工作在周期同步转矩模式。主站控制器进行转矩规划，并在每个通讯周期内将目标转矩、转矩偏移量发送到模组。模组执行转矩控制，控制框图如图 5-3 所示。

**图 5-3 周期同步转矩模式控制框图**（见原 PDF 第 13–14 页图示）

#### 5.3.2. 控制指令
针对周期同步转矩模式，控制字 0x6040 各个位的定义如表 5-5 所示。

**表 5-5 切换运行状态（0x6040）**

| Bit | 名称           | 说明                                   |
|-----|----------------|----------------------------------------|
| 0   | 伺服使能       | 1-有效，0-无效                         |
| 1   | 接通主回路电   | 1-有效，0-无效                         |
| 2   | 快速停机       | 0-有效，快速停机；1-无效               |
| 3   | 伺服运行       | 1-有效，0-无效                         |
| 4~6 | CST 模式预留   | 暂无                                    |
| 7   | 保留           | 未定义                                  |
| 8   | 保留           | 未定义                                  |
| 9   | CST 模式预留   | 暂无                                    |
| 10~15 | 保留         | 未定义                                  |

状态字 0x6041 各个位的定义如表 5-6 所示。

**表 5-6 周期同步转矩模式的状态字说明（0x6041）**

| Bits | 名称                     | 说明                                                     |
|------|--------------------------|----------------------------------------------------------|
| 0    | 准备打开伺服使能         | 1-有效，0-无效                                           |
| 1    | 伺服使能                 | 1-有效，0-无效                                           |
| 2    | 伺服运行                 | 1-有效，0-无效                                           |
| 3    | 故障                     | 1-有效，0-无效                                           |
| 4    | 接通主回路电             | 1-有效，0-无效                                           |
| 5    | 快速停机                 | 1-有效，0-无效                                           |
| 6    | 伺服无故障               | 1-有效，0-无效                                           |
| 7    | 警告                     | 1-有效，0-无效                                           |
| 8    | 厂家自定义               | 未定义                                                   |
| 9    | 远程控制                 | 1-有效（默认），0-无效                                   |
| 10   | CST 模式预留             | 暂无                                                      |
| 11   | 软件内部位置超限         | 1-有效，0-无效                                           |
| 12   | 是否跟随目标转矩         | 1-已跟随目标转矩，0-未跟随目标转矩                       |
| 13   | CST 模式预留             | 暂无                                                      |

#### 5.3.3. 控制步骤
具体操作步骤如下：
1）设置 0x6060=10，使得模组工作在周期同步转矩模式；
2）设置目标转矩 0x6071=0，因为模组切换使能状态后会立刻以目标转矩运行，先设置为 0 以确保安全；
3）设置控制字 0x6040，将模组设置为使能状态，具体方法为：
　3-1：设置控制字 0x6040=6，保持模组为失能状态；
　3-2：设置控制字 0x6040=7，模组准备使能；
　3-3：设置控制字 0x6040=15，模组使能。
4）设置目标速度 0x6071。

---

## 6. 对象字典

### 6.1. 0x6040 控制字
**数据类型** UINT  **默认值** 0x0000  **最大值** 0xFFFF  **最小值** 0x0000
**权限** RW  **备份** YES  **更新** Immediately  **PDO 映射** RxPDO

**Bit 含义**
0 伺服使能（Switch on）
1 接通主回路电路（Enable voltage）
2 快速停机（Quick stop）
3 伺服运行（Operation enable）
4~6 特定运行模式（Mode specific）
7~8 保留（Reserved）
9 特定运行模式（Mode specific）
10~15 保留（Reserved）

### 6.2. 0x6041 状态字
**数据类型** UINT  **默认值** 0x0000  **最大值** 0xFFFF  **最小值** 0x0000
**权限** RO  **备份** NO  **更新** \\  **PDO 映射** TxPDO

**Bit 含义**
0 准备打开伺服使能（Ready to switch on）
1 伺服使能（Switch on）
2 伺服运行（Operation enable）
3 故障（Fault）
4 接通主回路电（Enable voltage）
5 快速停机（Quick stop）
6 伺服无故障（Switch on disabled）
7 警告（Warning）
8 保留（Reserved）
9 远程控制（Remote）
10 目标到达（Target reached）
11 软件内部位置超限（Internal limit active）
12~13 特定的运行模式（Operation mode specific）
14~15 保留（Reserved）

### 6.3. 0x6060 运行模式设置
**数据类型** SINT  **默认值** 0x08  **最大值** 0x0A  **最小值** 0x00
**权限** RW  **备份** YES  **更新** Immediately  **PDO 映射** RxPDO

**值 / 运行模式**
0x08 周期同步位置模式（Cyclic synchronous position mode）
0x09 周期同步速度模式（Cyclic synchronous velocity mode）
0x0A 周期同步转矩模式（Cyclic synchronous torque mode）

### 6.4. 0x6061 运行模式显示
**数据类型** SINT  **默认值** 0x08  **最大值** 0x0A  **最小值** 0x00
**权限** RO  **备份** NO  **更新** \\  **PDO 映射** TxPDO

**值 / 运行模式**
0x08 周期同步位置模式（Cyclic synchronous position mode）
0x09 周期同步速度模式（Cyclic synchronous velocity mode）
0x0A 周期同步转矩模式（Cyclic synchronous torque mode）

### 6.5. 0x6064 实际位置
**数据类型** DINT  **默认值** 0x00000000  **最大值** 0x7FFFFFFF  **最小值** 0x80000000
**权限** RO  **备份** NO  **单位** \\  **PDO 映射** TxPDO

**说明**：表示输出端编码器反馈的实际位置。

### 6.6. 0x6077 实际转矩
**数据类型** INT  **默认值** 0x0000  **最大值** 0x7FFF  **最小值** 0x8000
**权限** RO  **备份** NO  **单位** 0.1%  **PDO 映射** TxPDO

**说明**：实际转矩指电机的瞬时转矩，以额定电流的千分比为单位。

### 6.7. 0x607A 目标位置
**数据类型** DINT  **默认值** 0x00000000  **最大值** 0x7FFFFFFF  **最小值** 0x80000000
**权限** RW  **更新** Immediately  **单位** plus  **备份** YES  **PDO 映射** RxPDO

**说明**：目标位置是驱动器在周期同步位置模式下应该移动到的设定位置。

### 6.8. 0x60B0 位置偏移量
**数据类型** DINT  **默认值** 0x00000000  **最大值** 0x7FFFFFFF  **最小值** 0x80000000
**权限** RW  **更新** Immediately  **单位** plus  **备份** YES  **PDO 映射** RxPDO

**说明**：表示电机停止时目标位置与实际位置之间的位置偏移值。

### 6.9. 0x60B1 速度偏移量
**数据类型** DINT  **默认值** 0x00000000  **最大值** 0x7FFFFFFF  **最小值** 0x80000000
**权限** RW  **更新** Immediately  **单位** plus/s  **备份** YES  **PDO 映射** RxPDO

**说明**：表示速度偏移量，从主站控制器中获取速度指令值，然后将其添加到速度环的命令中，在 CSP 模式中包含速度前馈的输入量；在 CSV 模式中包含驱动器设备速度指令的偏移量。

### 6.10. 0x60B2 转矩偏移量
**数据类型** INT  **默认值** 0x0000  **单位** per thousand of rated current
**权限** RW  **最大值** 0x7FFF  **最小值** 0x8000  **更新** Immediately  **备份** YES  **PDO 映射** RxPDO

**说明**：表示转矩偏移量，从主站控制器中获取转矩指令值，然后将其添加到电流环的命令中，在 CSP 模式中包含转矩前馈的输入量；在 CST 模式中包含驱动器指令的附加转矩，并将其添加到目标转矩中。

### 6.11. 0x606C 速度实际值
**数据类型** DINT  **默认值** 0x00000000  **最大值** 0x7FFFFFFF  **最小值** 0x80000000
**权限** RO  **单位** plus/s  **更新** \\  **备份** NO  **PDO 映射** TxPDO

**说明**：与速度控制器输入的速度耦合。

---

## 7. 快速上手指南

### 7.1. 连接
打开项目后，在解决方案资源管理器中右键 **Devieces** 选择 **Scan**，开始扫描后每个对话框都选择“确定”、“是”或者“OK”。

- **图 7-1 通讯连接扫描**（原 PDF 第 20 页）
- **图 7-2 弹窗**（原 PDF 第 20–21 页）
- **图 7-3 扫描 I/O 端口**（原 PDF 第 20 页）
- **图 7-4 弹窗**（原 PDF 第 21 页）
- **图 7-5 连接虚拟轴**（原 PDF 第 21 页）
- **图 7-6 激活运行**（原 PDF 第 21 页）

扫描完成后，解决方案资源管理器出现找到的设备。

- **图 7-7 解决方案资源管理器界面**（原 PDF 第 22 页）

选择 **Drive 1 (ET1100-uC16)**，进入 **DC** 界面，将 **Operation Mode** 改为 **DC‑Synchron**。

- **图 7-8 进入 DC 界面**（原 PDF 第 22 页）

点击如图所示的蓝色按钮，重启 TwinCAT。

- **图 7-9 重启 TwinCAT**（原 PDF 第 23 页）

### 7.2. 位置环运行电机
如下图选择 **Module 1** 中的 **ModeOfOperation**，再选择 **Online** 界面。写入 **ModeOfOperation** 的 **Value** 可以设置电机的运行模式，**8** 代表位置模式、**9** 代表速度模式、**10** 代表电流模式。

- **图 7-10 位置模式选择界面**（原 PDF 第 23 页）

点击 **Write**，输入 **8**，点击 **ok**，将运行模式设置为位置模式。

- **图 7-11 设置位置模式**（原 PDF 第 24 页）

点击 **Max Torque**，在 **Max Torque** 的 **Online** 界面中可设置运行过程中的最大电流，电机运行时电流不会超过此数值，单位为：额定电流的千分之一，额定电流默认值 **10A**。

- **图 7-12 设置最大相电流**（原 PDF 第 24 页）

点击 **TartgetPosition**，在 **Online** 界面中可设置目标位置，取值范围为：**-65535~65535**，**0** 代表 **0°**，**65535** 代表 **180°**，**-65535** 代表 **-180°**。

- **图 7-13 设置目标位置**（原 PDF 第 25 页）

点击 **ControlWord**，在 **Online** 界面写入 **15** 代表启动电机，写入 **0** 代表停止电机。

- **图 7-14 启动/停止电机**（原 PDF 第 25 页）

启动电机后，可在 **ActualPosition** 的 **Online** 界面查看电机是否到达指定位置。

- **图 7-15 查看电机是否到达指定位置**（原 PDF 第 26 页）

### 7.3. 速度环运行电机
如下图选择 **Module 1** 中的 **ModeOfOperation**，再选择 **Online** 界面。写入 **ModeOfOperation** 的 **Value** 可是设置电机的运行模式，**8** 代表位置模式、**9** 代表速度模式、**10** 代表电流模式。

- **图 7-16 设置电机运行模式界面**（原 PDF 第 26 页）

点击 **Write**，输入 **9**，点击 **ok**，将运行模式设置为速度模式。

- **图 7-17 设置速度模式**（原 PDF 第 27 页）

点击 **Max Torque**，在 **Max Torque** 的 **Online** 界面中可设置运行过程中的最大电流，电机运行时电流不会超过此数值，单位为：额定电流的千分之一，额定电流默认值 **10A**。

- **图 7-18 设置最大相电流**（原 PDF 第 27 页）

点击 **TartgetVelocity**，在 **Online** 界面中可设置输出端目标速度，单位为脉冲/秒，若输入值为 **X**，则换算为 **RPM** 为 **（X*60/131072）RPM**。

- **图 7-19 设置输出端目标速度**（原 PDF 第 27–28 页）

点击 **ControlWord**，在 **Online** 界面写入 **15** 代表启动电机，写入 **0** 代表停止电机。

- **图 7-20 启动/停止电机**（原 PDF 第 28 页）

启动电机后，可在 **ActualVelocity** 的 **Online** 界面查看电机是否到达指定速度。

- **图 7-21 查看电机是否到达指定速度**（原 PDF 第 29 页）

### 7.4. 电流环运行电机
如下图选择 **Module 1** 中的 **ModeOfOperation**，再选择 **Online** 界面。写入 **ModeOfOperation** 的 **Value** 可是设置电机的运行模式，**8** 代表位置模式、**9** 代表速度模式、**10** 代表电流模式。

- **图 7-22 设置电机运行模式界面**（原 PDF 第 29 页）

点击 **Write**，输入 **10**，点击 **ok**，将运行模式设置为电流模式。

- **图 7-23 设置电流模式**（原 PDF 第 30 页）

点击 **Max Torque**，在 **Max Torque** 的 **Online** 界面中可设置运行过程中的最大电流，电机运行时电流不会超过此数值，单位为：额定电流的千分之一，额定电流默认值 **10A**。

- **图 7-24 设置最大相电流**（原 PDF 第 30 页）

点击 **Tartget Torque**，在 **Online** 界面中可设置目标电流，单位为：额定电流的千分之一，额定电流默认值 **10A**，电机启动后会以此电流运行，但不会超过 4.3 中设置的最大电流。

- **图 7-25 设置目标电流**（原 PDF 第 31 页）

点击 **ControlWord**，在 **Online** 界面写入 **15** 代表启动电机，写入 **0** 代表停止电机。

- **图 7-26 启动/停止电机**（原 PDF 第 31 页）

---

### 说明
- “图 x‑y”与“表 x‑y”编号、名称均按原文保留；图中具体界面/框图内容请参见原 PDF 对应页。如需阅读相应图片，请向用户索取。
